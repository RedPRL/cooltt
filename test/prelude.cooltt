-- Path Types, and some common operations
def path (A : type) (x y : A) : type :=
  ext i => A with [i=0 => x | i=1 => y]


def path-p (A : ð•€ â†’ type) (x : A 0) (y : A 1) : type :=
  ext i => A i with [i=0 => x | i=1 => y]

def refl (A : type) (x : A) : path A x x :=
  i => x

def symm/filler (A : type) (p : ð•€ â†’ A) (i : ð•€) : ð•€ â†’ A :=
  hfill A 0 {âˆ‚ i} {j _ =>
    [ j=0 âˆ¨ i=1 => p 0
    | i=0 => p j
    ]
  }

abstract
def symm (A : type) (p : ð•€ â†’ A) : path A {p 1} {p 0} :=
  i => symm/filler A p i 1

def trans/filler (A : type) (p : ð•€ â†’ A) (q : (i : ð•€) â†’ sub A {i=0} {p 1}) (j : ð•€) (i : ð•€) : A :=
  hcom A 0 j {âˆ‚ i} {j _ =>
    [ j=0 âˆ¨ i=0 => p i
    | i=1 => q j
    ]
  }

abstract
def trans (A : type) (p : ð•€ â†’ A) (q : (i : ð•€) â†’ sub A {i=0} {p 1}) : path A {p 0} {q 1} :=
  trans/filler A p q 1

def cong (A : type) (B : A â†’ type) (f : (a : A) â†’ B a) (x y : A) (p : path A x y) : path-p {i => B {p i}} {f x} {f y} :=
  i => f {p i}

def funext (A : type) (B : type) (f : (x : A) â†’ B) (g : (x : A) â†’ B) (h : (x : A) â†’ path B {f x} {g x}) : path {(x : A) â†’ B} f g :=
  i x => h x i

def unit : type := ext => nat with [âŠ¤ => 0]

def â‹† : unit := 0

def unit/eta (x : unit) : path unit â‹† x :=
  _ => x


#print path

def foo : type := path nat 0 0

#print foo
