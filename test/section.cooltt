section sec1 begin
  def x : nat := 10
  view [ ?view ]
  repack [ ?repack ]
end [x -> z]

view [ ?view ]
repack [ ?repack ]

#normalize sec1::z

def y : nat := 20

!section a begin
  def x : nat := 30
  section b begin
    def x : nat := 40

    view [ ?view ]
    repack [ ?repack ]

    export {y, [y; y -> y2]}

    view [ ?view ]
    repack [ ?repack ]

    repack [ x -> x :: x ]

    view [ ?view ]
    repack [ ?repack ]
  end [ ! y ]
end

#normalize a::x
#normalize a::b::y2

view [ ?view ]
repack [ ?repack ]
