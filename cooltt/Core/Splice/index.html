<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Splice (cooltt.Core.Splice)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">cooltt</a> &#x00BB; <a href="../index.html">Core</a> &#x00BB; Splice</nav><header class="odoc-preamble"><h1>Module <code><span>Core.Splice</span></code></h1></header><div class="odoc-content"><p>Constructing values in the semantic domain that go underneath binders is very difficult! In general you need to be able to form exactly the right closure for each binder, and it is usually not obvious how to do this, and it usually involves some awful De Bruijn arithmetic.</p><p>An alternative is to create a term in an extended context, and then evaluate that in an environment that contains the values you want to &quot;splice&quot; into it; then, the resulting value will have the desired behavior. This module, which is called <code>Splice</code> for lack of a better name, achieves this in an automatic way, avoiding all De Bruijn arithmetic.</p><div class="odoc-spec"><div class="spec module-substitution anchored" id="module-S"><a href="#module-S" class="anchor"></a><code><span><span class="keyword">module</span> S := <a href="../CodeUnit/Syntax/index.html">CodeUnit.Syntax</a></span></code></div></div><div class="odoc-spec"><div class="spec module-substitution anchored" id="module-D"><a href="#module-D" class="anchor"></a><code><span><span class="keyword">module</span> D := <a href="../CodeUnit/Domain/index.html">CodeUnit.Domain</a></span></code></div></div><div class="odoc-spec"><div class="spec module-substitution anchored" id="module-TB"><a href="#module-TB" class="anchor"></a><code><span><span class="keyword">module</span> TB := <a href="../TermBuilder/index.html">TermBuilder</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-con"><a href="#val-con" class="anchor"></a><code><span><span class="keyword">val</span> con : <span><a href="../CodeUnit/Domain/index.html#type-con">D.con</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><a href="../CodeUnit/Syntax/index.html#type-t">S.t</a> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cons"><a href="#val-cons" class="anchor"></a><code><span><span class="keyword">val</span> cons : <span><span><a href="../CodeUnit/Domain/index.html#type-con">D.con</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><span><a href="../CodeUnit/Syntax/index.html#type-t">S.t</a> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dim"><a href="#val-dim" class="anchor"></a><code><span><span class="keyword">val</span> dim : <span><a href="../CodeUnit/Domain/index.html#type-dim">D.dim</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><a href="../CodeUnit/Syntax/index.html#type-t">S.t</a> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cof"><a href="#val-cof" class="anchor"></a><code><span><span class="keyword">val</span> cof : <span><a href="../CodeUnit/Domain/index.html#type-cof">D.cof</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><a href="../CodeUnit/Syntax/index.html#type-t">S.t</a> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clo"><a href="#val-clo" class="anchor"></a><code><span><span class="keyword">val</span> clo : <span><a href="../CodeUnit/Domain/index.html#type-tm_clo">D.tm_clo</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><a href="../CodeUnit/Syntax/index.html#type-t">S.t</a> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tp"><a href="#val-tp" class="anchor"></a><code><span><span class="keyword">val</span> tp : <span><a href="../CodeUnit/Domain/index.html#type-tp">D.tp</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span><a href="../CodeUnit/Syntax/index.html#type-tp">S.tp</a> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compile"><a href="#val-compile" class="anchor"></a><code><span><span class="keyword">val</span> compile : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../CodeUnit/Domain/index.html#type-env">D.env</a> * <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-term"><a href="#val-term" class="anchor"></a><code><span><span class="keyword">val</span> term : <span><span><span class="type-var">'a</span> <a href="../TermBuilder/index.html#type-m">TB.m</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Macro"><a href="#module-Macro" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Macro/index.html">Macro</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bdry"><a href="#module-Bdry" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bdry/index.html">Bdry</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>